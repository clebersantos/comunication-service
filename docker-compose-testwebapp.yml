version: '3'
services:

  cypress:
    image: "cypress/included:3.3.1"
    ipc: host
    working_dir: /e2e
    volumes:
      - ./webapp:/e2e
      - /var/run/docker.sock:/var/run/docker.sock
    environment:
      #pass base url to test pointing at the web application
    #  - CYPRESS_baseUrl=http://localhost:8088
      - CYPRESS_baseUrl=http://localhost:8088
    networks:
      - comunication_network
    external_links:
      - webserver-service
      - webapp-service

networks:
  comunication_network:
    #driver: bridge
    external: true
